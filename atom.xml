<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Freelance Projects]]></title>
  <link href="http://uw-freelancer.github.io/atom.xml" rel="self"/>
  <link href="http://uw-freelancer.github.io/"/>
  <updated>2013-07-16T09:52:07+05:30</updated>
  <id>http://uw-freelancer.github.io/</id>
  <author>
    <name><![CDATA[Upeksha Wisidagama]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Building a Linux System From Scratch]]></title>
    <link href="http://uw-freelancer.github.io/blog/building-a-linux-system-from-scratch/"/>
    <updated>2013-07-14T18:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/building-a-linux-system-from-scratch</id>
    <content type="html"><![CDATA[<p>62 Tarballs were downloaded. Then compiled one-by-one.</p>

<figure class='code'><figcaption><span>&#8216;Source Tarballs (/sources)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>-rw-r--r--  1 uw   uw    1214744 Apr 25  2012 autoconf-2.69.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    1425080 Jan  1  2013 automake-1.13.1.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    7009201 Feb 14  2011 bash-4.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw   21455321 Nov 13  2012 binutils-2.23.1.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    1776640 Dec 12  2012 bison-2.7.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     782025 Sep 20  2010 bzip2-1.0.6.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw     602679 Oct 22  2012 check-0.9.9.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    5357988 Feb 14 22:36 coreutils-8.21.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     576269 Mar 11  2011 dejagnu-1.5.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    2023539 Sep  2  2011 diffutils-3.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    5981006 Jan 22 09:09 e2fsprogs-1.42.7.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw     628808 Nov 10  2010 expect5.45.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw     641632 Jul 11 10:50 file-5.13.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    2149838 Jun  6  2009 findutils-4.4.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    1303313 Aug  4  2012 flex-2.5.37.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    1626808 Dec 27  2012 gawk-4.0.2.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw   82884636 Sep 20  2012 gcc-4.7.2.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw     655599 Nov 13  2011 gdbm-1.10.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw   15697875 Dec 25  2012 gettext-0.18.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw   10981956 Dec 26  2012 glibc-2.17.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    1812988 Jul 11 20:52 gmp-5.1.1.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    1195640 Aug 20  2012 grep-2.14.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    4019913 Feb  7 17:50 groff-1.22.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    5136412 Jun 28  2012 grub-2.00.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     720956 Jun 18  2012 gzip-1.5.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     205618 Mar  5  2008 iana-etc-2.30.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    1987928 Jan  6  2012 inetutils-1.9.1.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw     407608 Feb 21 22:14 iproute2-3.8.0.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    1730719 Dec  6  2012 kbd-1.15.5.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    1275028 Dec  5  2012 kmod-12.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     310144 Jul 22  2012 less-451.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw      33692 Mar  4 21:17 lfs-bootscripts-20130123.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw     750489 Sep 18  2012 libpipeline-1.2.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    2632347 Oct 18  2011 libtool-2.4.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw   70981756 Feb 28 19:27 linux-3.8.1.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    1258362 Mar  2  2011 m4-1.4.16.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    1242186 Jul 28  2010 make-3.82.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    1388944 Sep 18  2012 man-db-2.6.3.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    1134180 Feb 12 09:26 man-pages-3.47.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     624125 Sep  6  2012 mpc-1.0.1.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    1071688 Jul  4  2012 mpfr-3.1.1.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    2826473 Jul 11 11:11 ncurses-5.9.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw     675896 Sep 28  2012 patch-2.7.1.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw   13725101 Nov  1  2012 perl-5.16.2.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    1931203 Jan 24 19:17 pkg-config-0.28.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw     535796 Jan  8  2013 procps-ng-3.3.6.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     432501 Sep 20  2012 psmisc-22.20.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    2277926 Feb 14  2011 readline-6.2.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    1059414 Dec 22  2012 sed-4.2.2.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    2193325 May 26  2012 shadow-4.1.5.1.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw      86557 Jul 29  2007 sysklogd-1.5.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    2054644 Jan  8  2013 systemd-197.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     105551 Apr 14  2010 sysvinit-2.88dsf.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    2339773 Mar 12  2011 tar-1.26.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    8636908 Dec 20  2012 tcl8.6.0-src.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw    3782636 Feb 17 07:54 texinfo-5.0.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     214075 Jan  5  2013 tzdata2012j.tar.gz
</span><span class='line'>-rw-r--r--  1 uw   uw      17129 Jan 12 00:40 udev-lfs-197-2.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw    3100832 Dec 13  2012 util-linux-2.22.2.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw    9080692 Jul 11 11:18 vim-7.3.tar.bz2
</span><span class='line'>-rw-r--r--  1 uw   uw     915048 Jun 22  2012 xz-5.0.4.tar.xz
</span><span class='line'>-rw-r--r--  1 uw   uw     505085 Jul 11 19:55 zlib-1.2.7.tar.bz2
</span></code></pre></td></tr></table></div></figure>




<h2>Building the ToolChain, Building the System Software and Compiling the Linux Kernel</h2>


<p><a href="http://uw-freelancer.github.io/blog/building-the-host-independant-toolchain/" >Building the ToolChain</a><br />
<a href="http://uw-freelancer.github.io/blog/building-the-system-software-from-scratch/" >Building the System Software</a><br />
<a href="http://uw-freelancer.github.io/blog/compiling-the-linux-kernel-from-source/" >Compiling the Linux Kernel</a><br /></p>

<p>The above posts describe the steps needed to build a basic Linux system from source tarballs. This article is about booting and logging into the new system.</p>

<h2>Booting the New Linux System</h2>


<p>Remove the host hard disk. Boot with the hard disk with new system. Or you can change the hard drive order to allow booting from our new disk.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/lfs-grub-menu.png" title="Linux System Grub Menu" alt="Linux System Grub Menu" /></p>

<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/login-to-lfs.png" title="Linux System Login" alt="Linux System Login" /></p>

<h2>Linux System Hard Disk Usage</h2>


<p>The entire disk is 10GB. The system files use only 552MB. &lsquo;usr&rsquo; alone uses 508MB. The Rest of the system uses 44MB.</p>

<table>
<thead>
<tr>
<th></th>
<th> Directory     </th>
<th> Size/KB      </th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td> tmp         </td>
<td> 20</td>
</tr>
<tr>
<td></td>
<td> srv         </td>
<td> 4</td>
</tr>
<tr>
<td></td>
<td> lib         </td>
<td> 15360</td>
</tr>
<tr>
<td></td>
<td> media       </td>
<td> 12</td>
</tr>
<tr>
<td></td>
<td> boot        </td>
<td> 12288</td>
</tr>
<tr>
<td></td>
<td> opt  </td>
<td> 4</td>
</tr>
<tr>
<td></td>
<td> home </td>
<td> 12</td>
</tr>
<tr>
<td></td>
<td> run  </td>
<td> 224</td>
</tr>
<tr>
<td></td>
<td> mnt  </td>
<td> 4</td>
</tr>
<tr>
<td></td>
<td> etc  </td>
<td> 6.5</td>
</tr>
<tr>
<td></td>
<td> var  </td>
<td> 920</td>
</tr>
<tr>
<td></td>
<td> root </td>
<td> 32</td>
</tr>
<tr>
<td></td>
<td> sbin </td>
<td> 4812</td>
</tr>
<tr>
<td></td>
<td> bin  </td>
<td> 4915</td>
</tr>
<tr>
<td></td>
<td> usr  </td>
<td> 508M</td>
</tr>
</tbody>
</table>


<br />See the output of the &#8220;du&#8220; command.<br /><br />


<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/lfs-disk-usage.png" title="Linux System Disk Usage" alt="Linux System Disk Usage" /></p>

<h2>Linux System Random Access Memory Usage</h2>


<p>The system has 1GB RAM. But only 31.5MB is used.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/lfs-resource-usage.png" title="Linux System Resource Usage" alt="Linux System Resource Usage" /></p>

<p>Many wonder why they should go through the hassle of building a Linux system from scratch when they could just download an existing Linux distribution. However, there are several benefits of building Linux from sources.</p>

<blockquote><p>Building LFS teaches you about all that makes Linux tick, how things work together and depend on each other. And most importantly, how to customize it to your own tastes and needs.</p></blockquote>


<p>If you are wondering why you would want a highly secured system, just read any number of articles dealing with hackers and script kiddies breaking into systems and destroying them or stealing from them. Now, you can know the security hole, inspect the patches and fix it yourself immediately.</p>

<blockquote><p>You don&#8217;t have to wait for someone else to provide a new binary package that (hopefully) fixes a security hole. Often, you never truly know whether a security hole is fixed or not unless you do it yourself.</p></blockquote>


<p>Thank you, Project Leader: Gerard Beekmans, Project Co-leader: Matthew Burgess and Project Co-leader: Bruce Dubbs of &lsquo;Linux From Scratch&rsquo;.</p>

<p>Visit &lsquo;Linux From Scratch&rsquo; today and experience the freedom and power. Don&rsquo;t forget to run the gcc tests using <code>make -k check</code> &ndash; <b>Approximate build time: 53.5 SBU !</b></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Writing PHP Extensions]]></title>
    <link href="http://uw-freelancer.github.io/blog/writing-php-extensions/"/>
    <updated>2013-07-13T23:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/writing-php-extensions</id>
    <content type="html"><![CDATA[<blockquote><p>If you’re reading this tutorial, you probably have some interest in writing an extension for the PHP language. If not… well perhaps when we’re done you’ll have discovered an interest you didn’t know existed! - devzone.zend.com</p></blockquote>


<p>If you have your PHP installed in a custom location, you need to add the <code>bin</code> directory to your <code>PATH</code> environment variable to avoid typing the full path. e.g. I have the bleeding edge PHP (PHP version 5.5.0) installed in <code>/usr/local/php5/</code>. To add the binaries to the $PATH,</p>

<p><code>export PATH=$PATH:/usr/local/php5/bin/</code></p>

<h3>Preparing to Build the PHP Extension</h3>


<p>Create a new directory for the new extension under <code>source/ext</code>. You need to create the following three files for a simple extension.</p>

<p>Create the <code>config.m4</code> file.</p>

<figure class='code'><figcaption><span>&#8216;config.m4&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">PHP_ARG_ENABLE</span><span class="p">(</span><span class="n">upeksha_extension</span><span class="p">,</span> <span class="n">whether</span> <span class="n">to</span> <span class="n">enable</span> <span class="n">upeksha</span> <span class="n">extension</span><span class="p">,</span>
</span><span class='line'><span class="p">[</span> <span class="o">--</span><span class="n">enable</span><span class="o">-</span><span class="n">upeksha</span><span class="o">-</span><span class="n">extension</span>   <span class="n">Enable</span> <span class="n">Upeksha</span> <span class="n">extension</span><span class="p">])</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="n">test</span> <span class="s">&quot;$PHP_UPEKSHA_EXTENSION&quot;</span> <span class="o">=</span> <span class="s">&quot;yes&quot;</span><span class="p">;</span> <span class="n">then</span>
</span><span class='line'>  <span class="n">AC_DEFINE</span><span class="p">(</span><span class="n">HAVE_UPEKSHA_EXTENSION</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="n">Whether</span> <span class="n">you</span> <span class="n">have</span> <span class="n">Upeksha</span> <span class="n">extension</span><span class="p">])</span>
</span><span class='line'>  <span class="n">PHP_NEW_EXTENSION</span><span class="p">(</span><span class="n">upeksha_extension</span><span class="p">,</span> <span class="n">upeksha_extension</span><span class="p">.</span><span class="n">c</span><span class="p">,</span> <span class="err">$</span><span class="n">ext_shared</span><span class="p">)</span>
</span><span class='line'><span class="n">fi</span>
</span></code></pre></td></tr></table></div></figure>


<p>Create the <code>upeksha.h</code> file.</p>

<figure class='code'><figcaption><span>&#8216;upeksha.h&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#ifndef PHP_UPEKSHA_H</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define PHP_UPEKSHA_H 1</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#define PHP_UPEKSHA_VERSION &quot;0.1&quot;</span>
</span><span class='line'><span class="cp">#define PHP_UPEKSHA_EXTNAME &quot;upeksha_extension&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">PHP_FUNCTION</span><span class="p">(</span><span class="n">say_name</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="k">extern</span> <span class="n">zend_module_entry</span> <span class="n">upeksha_module_entry</span><span class="p">;</span>
</span><span class='line'><span class="cp">#define phpext_upeksha_ptr &amp;upeksha_module_entry</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#endif</span>
</span></code></pre></td></tr></table></div></figure>


<p>Create the <code>upeksha_extension.c</code> file.</p>

<figure class='code'><figcaption><span>&#8216;upeksha_extension&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="cp">#ifdef HAVE_CONFIG_H</span>
</span><span class='line'><span class="cp">#include &quot;config.h&quot;</span>
</span><span class='line'><span class="cp">#endif</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#include &quot;php.h&quot;</span>
</span><span class='line'><span class="cp">#include &quot;upeksha.h&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// list of custom PHP functions provided by this extension</span>
</span><span class='line'><span class="c1">// set {NULL, NULL, NULL} as the last record to mark the end of list</span>
</span><span class='line'><span class="k">static</span> <span class="n">zend_function_entry</span> <span class="n">upeksha_functions</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">PHP_FE</span><span class="p">(</span><span class="n">say_name</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span><span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">}</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// the following code creates an entry for the module and registers it with Zend.</span>
</span><span class='line'><span class="n">zend_module_entry</span> <span class="n">upeksha_extension_module_entry</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">STANDARD_MODULE_HEADER</span><span class="p">,</span>
</span><span class='line'>    <span class="n">PHP_UPEKSHA_EXTNAME</span><span class="p">,</span>
</span><span class='line'>    <span class="n">upeksha_functions</span><span class="p">,</span>
</span><span class='line'>    <span class="nb">NULL</span><span class="p">,</span> <span class="c1">// name of the MINIT function or NULL if not applicable</span>
</span><span class='line'>    <span class="nb">NULL</span><span class="p">,</span> <span class="c1">// name of the MSHUTDOWN function or NULL if not applicable</span>
</span><span class='line'>    <span class="nb">NULL</span><span class="p">,</span> <span class="c1">// name of the RINIT function or NULL if not applicable</span>
</span><span class='line'>    <span class="nb">NULL</span><span class="p">,</span> <span class="c1">// name of the RSHUTDOWN function or NULL if not applicable</span>
</span><span class='line'>    <span class="nb">NULL</span><span class="p">,</span> <span class="c1">// name of the MINFO function or NULL if not applicable</span>
</span><span class='line'>    <span class="n">PHP_UPEKSHA_VERSION</span><span class="p">,</span>
</span><span class='line'>    <span class="n">STANDARD_MODULE_PROPERTIES</span>
</span><span class='line'><span class="p">};</span>
</span><span class='line'>
</span><span class='line'><span class="n">ZEND_GET_MODULE</span><span class="p">(</span><span class="n">upeksha_extension</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// implementation of a custom say_name()</span>
</span><span class='line'><span class="n">PHP_FUNCTION</span><span class="p">(</span><span class="n">say_name</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">RETURN_STRING</span><span class="p">(</span><span class="s">&quot;Upeksha Wisidagama&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Next run <code>phpize</code> in the same directory.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/php-extension/configuring-the-php-extension.png" title="Configuring the PHP Extension" alt="Configuring the PHP Extension" /></p>

<h3>Making and Installing the Upeksha PHP Extension</h3>


<p>run <code>make</code>. You&rsquo;ll get a message, &lsquo;Libraries have been installed in: /home/uw/Downloads/php-5.5.0/ext/uw/modules&rsquo;.</p>

<p>Load the extension by adding the following line to the <code>php.ini</code> file.</p>

<p><code>extension=/home/uw/Downloads/php-5.5.0/ext/uw/modules/upeksha_extension.so</code></p>

<p>Restart the Web Server.</p>

<p>Now, create the following php file with the function from the new extension.</p>

<figure class='code'><figcaption><span>&#8216;hello.php&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="k">echo</span> <span class="nx">say_name</span><span class="p">();</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p><img class='center' src="http://uw-freelancer.github.io/images/php-extension/upeksha-php-extension.png" title="Upeksha PHP Extension" alt="Upeksha PHP Extension" /></p>

<p>See the new extension listed in <code>phpinfo()</code>.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/php-extension/upeksha-extension-in-phpinfo.png" title="Upeksha PHP Extension in phpinfo()" alt="Upeksha PHP Extension in phpinfo()" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Compiling a Linux Kernel from Source Tarball]]></title>
    <link href="http://uw-freelancer.github.io/blog/compiling-the-linux-kernel-from-source/"/>
    <updated>2013-07-12T20:20:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/compiling-the-linux-kernel-from-source</id>
    <content type="html"><![CDATA[<p>This is the third post about building a linux system from source files.</p>

<p>If you have rebooted your host after completing the steps described in the second post, first, mount the new system partition.</p>

<p>Our new system is on sdb disk.</p>

<figure class='code'><figcaption><span>&#8216;Mounting the new system&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo su
</span><span class='line'><span class="nb">export </span><span class="nv">LFS</span><span class="o">=</span>/mnt/lfs
</span><span class='line'>mount -v -t ext3 /dev/sdb <span class="nv">$LFS</span>
</span></code></pre></td></tr></table></div></figure>


<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/mounting-the-system.png" title="Mounting the system filesystem" alt="Mounting the system filesystem" /></p>

<h2>Mounting and Populating Device (Virtual) Filesystem</h2>




<figure class='code'><figcaption><span>&#8216;Mounting Dev Filesystem&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mount -v --bind /dev <span class="nv">$LFS</span>/dev
</span></code></pre></td></tr></table></div></figure>




<h2>Mounting Virtual Kernel Filesystems</h2>




<figure class='code'><figcaption><span>&#8216;Mounting Virtual Kernel Filesystems&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mount -vt devpts devpts <span class="nv">$LFS</span>/dev/pts
</span><span class='line'>mount -vt proc proc <span class="nv">$LFS</span>/proc
</span><span class='line'>mount -vt sysfs sysfs <span class="nv">$LFS</span>/sys
</span></code></pre></td></tr></table></div></figure>


<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/mounting-virtual-kernel-filesystems.png" title="Mounting Virtual Kernel Filesystems" alt="Mounting Virtual Kernel Filesystems" /></p>

<h2>Chroot to New System and Compile the Kernel</h2>




<figure class='code'><figcaption><span>&#8216;Chrooting into new System&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chroot <span class="s2">&quot;$LFS&quot;</span> /usr/bin/env -i <span class="se">\</span>
</span><span class='line'>    <span class="nv">HOME</span><span class="o">=</span>/root <span class="nv">TERM</span><span class="o">=</span><span class="s2">&quot;$TERM&quot;</span> <span class="nv">PS1</span><span class="o">=</span><span class="s1">&#39;\u:\w\$ &#39;</span> <span class="se">\</span>
</span><span class='line'>    <span class="nv">PATH</span><span class="o">=</span>/bin:/usr/bin:/sbin:/usr/sbin <span class="se">\</span>
</span><span class='line'>    /bin/bash --login
</span></code></pre></td></tr></table></div></figure>




<blockquote><p>&#8216;Make MrProper&#8217; ensures that the kernel tree is absolutely clean. The kernel team recommends that this command be issued prior to each kernel compilation. Do not rely on the source tree being clean after un-tarring.</p></blockquote>


<p>Now run &lsquo;make LANG=en_US LC_ALL= menuconfig&rsquo; after &lsquo;make mrproper&rsquo;.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/lfs/linux-kernel-configuration.png" title="Linux Kernel Configuration" alt="Linux Kernel Configuration" /></p>

<h2>Install the Fresh Linux Kernel in the Boot Directory</h2>


<p>Finally run the following command to install the Linux Kernel in the Boot directory.</p>

<figure class='code'><figcaption><span>&#8216;Install Kernel in Boot Directory&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>make
</span><span class='line'>cp -v arch/x86/boot/bzImage /boot/vmlinuz-3.8.1-upeksha-7.3
</span></code></pre></td></tr></table></div></figure>


<p>Now configure the Grub Bootloader and boot into the New Linux System.</p>

<p><a href="http://uw-freelancer.github.io/blog/building-a-linux-system-from-scratch/" >Next: Booting and Logging into the New Linux System</a><br /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordPress Performance Benchmarking with APC via FastCGI PHP5-CGI]]></title>
    <link href="http://uw-freelancer.github.io/blog/wordpress-performance-with-apc-via-fastcgi-php5/"/>
    <updated>2013-07-08T23:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/wordpress-performance-with-apc-via-fastcgi-php5</id>
    <content type="html"><![CDATA[<p>Setup: Apache 2.2 Prefork MPM. FastCGI with suEXEC. PHP5-CGI. APC per user.</p>

<blockquote><p>For detailed explanations on setting up a system summerized above, please read <a href="http://uw-freelancer.github.io/blog/fastcgi-suexec-apc-per-user/" >Apache2 FastCGI and suEXEC Implementing APC Per User With PHP5-CGI</a>. Most of the unexplained steps are explained in that post.</p></blockquote>




<h2>Create a new user and install WordPress</h2>


<p>1) Login to the server via SSH</p>

<figure class='code'><figcaption><span>&#8216;Login via SSH&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uw:~<span class="nv">$ </span>ssh uwlab
</span></code></pre></td></tr></table></div></figure>


<p>2) Add a new user called &lsquo;uwapc&rsquo;</p>

<figure class='code'><figcaption><span>&#8216;Add new user&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:~<span class="nv">$ </span>sudo adduser uwapc
</span><span class='line'>Adding user <span class="sb">`</span>uwapc<span class="s1">&#39; ...</span>
</span><span class='line'><span class="s1">Adding new group `uwapc&#39;</span> <span class="o">(</span>1002<span class="o">)</span> ...
</span><span class='line'>Adding new user <span class="sb">`</span>uwapc<span class="s1">&#39; (1002) with group `uwapc&#39;</span> ...
</span><span class='line'>Creating home directory <span class="sb">`</span>/home/uwapc<span class="s1">&#39; ...</span>
</span><span class='line'><span class="s1">Copying files from `/etc/skel&#39;</span> ...
</span><span class='line'>Enter new UNIX password:
</span><span class='line'>Retype new UNIX password:
</span><span class='line'>passwd: password updated successfully
</span><span class='line'>Changing the user information <span class="k">for </span>uwapc
</span><span class='line'>Enter the new value, or press ENTER <span class="k">for </span>the default
</span><span class='line'>  Full Name <span class="o">[]</span>: UW APC Testing
</span><span class='line'>  Room Number <span class="o">[]</span>: 123
</span><span class='line'>  Work Phone <span class="o">[]</span>: +94 011 7776665
</span><span class='line'>  Home Phone <span class="o">[]</span>: +94 011 1122334
</span><span class='line'>  Other <span class="o">[]</span>: +94 077 1234567
</span><span class='line'>Is the information correct? <span class="o">[</span>Y/n<span class="o">]</span> Y
</span></code></pre></td></tr></table></div></figure>


<p>3) Setup a Virtual Host</p>

<figure class='code'><figcaption><span>&#8216;Setup the Virtual Host&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:/home<span class="nv">$ </span><span class="nb">cd</span> /etc/apache2/sites-available/
</span><span class='line'>upeksha@uwlab:/etc/apache2/sites-available<span class="nv">$ </span>ls
</span><span class='line'>default  default-ssl  wisidagama.dev
</span><span class='line'>upeksha@uwlab:/etc/apache2/sites-available<span class="nv">$ </span>sudo cp wisidagama.dev uwapc.dev
</span><span class='line'>upeksha@uwlab:/etc/apache2/sites-available<span class="nv">$ </span>sudo vi uwapc.dev
</span></code></pre></td></tr></table></div></figure>


<p><code>:%s/wisidagama/uwapc/g</code></p>

<figure class='code'><figcaption><span>&#8216;New Virtual Host (uwapc.dev)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&lt;VirtualHost *:80&gt;
</span><span class='line'>        ServerName www.uwapc.dev
</span><span class='line'>        ServerAdmin webmaster@uwapc.dev
</span><span class='line'>
</span><span class='line'>        DocumentRoot /home/uwapc/public_html/
</span><span class='line'>        &lt;Directory /home/uwapc/public_html/&gt;
</span><span class='line'>                Options Indexes FollowSymLinks MultiViews
</span><span class='line'>                AllowOverride None
</span><span class='line'>                Order allow,deny
</span><span class='line'>                allow from all
</span><span class='line'>        &lt;/Directory&gt;
</span><span class='line'>
</span><span class='line'>        &lt;IfModule mod_fastcgi.c&gt;
</span><span class='line'>        SuexecUserGroup uwapc uwapc
</span><span class='line'>        Alias /cgi-bin/ /var/www/bin/uwapc/
</span><span class='line'>    &lt;/IfModule&gt;
</span><span class='line'>
</span><span class='line'>        ErrorLog /home/uwapc/error.log
</span><span class='line'>
</span><span class='line'>        <span class="c"># Possible values include: debug, info, notice, warn, error, crit,</span>
</span><span class='line'>        <span class="c"># alert, emerg.</span>
</span><span class='line'>        LogLevel warn
</span><span class='line'>
</span><span class='line'>        CustomLog /home/uwapc/access.log combined
</span><span class='line'>&lt;/VirtualHost&gt;
</span></code></pre></td></tr></table></div></figure>


<p>4) Setup a suEXEC compatible FastCGI Wrapper</p>

<figure class='code'><figcaption><span>&#8216;FastCGI wrappers&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:/etc/apache2/sites-available<span class="nv">$ </span><span class="nb">cd</span> /var/www/bin/
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>ls
</span><span class='line'>wisidagama
</span><span class='line'>
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>sudo cp -r wisidagama uwapc
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>ls
</span><span class='line'>uwapc  wisidagama
</span><span class='line'>
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>sudo chown -R uwapc:uwapc uwapc
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>ls -al
</span><span class='line'>total 16
</span><span class='line'>drwxr-xr-x 4 root       root       4096 Jul  8 15:20 .
</span><span class='line'>drwxr-xr-x 3 root       root       4096 Jul  8 07:23 ..
</span><span class='line'>drwxr-xr-x 2 uwapc      uwapc      4096 Jul  8 15:21 uwapc
</span><span class='line'>drwxr-xr-x 2 wisidagama wisidagama 4096 Jul  8 07:39 wisidagama
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="err">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>Change the APC size to 100MB in the wrapper script. Please refer to the post linked at the top of this post on how to change the APC size per user.</p>

<p>3) Setup MySQL database</p>

<figure class='code'><figcaption><span>&#8216;WordPress Database Setup&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>mysql -u root -p
</span><span class='line'>Enter password:
</span><span class='line'>
</span><span class='line'>mysql&gt; create database uwapc;
</span><span class='line'>Query OK, 1 row affected <span class="o">(</span>0.00 sec<span class="o">)</span>
</span><span class='line'>
</span><span class='line'>mysql&gt; grant usage on *.* to uwapc@localhost identified by <span class="s1">&#39;s9sd%sd@1DS!A(6,sld69s%sHEaRWad9#@)X~sd7ZzdffzzzZZZdd9df%^&#39;</span>;
</span><span class='line'>Query OK, 0 rows affected <span class="o">(</span>0.00 sec<span class="o">)</span>
</span><span class='line'>
</span><span class='line'>mysql&gt; grant all privileges on uwapc.* to uwapc@localhost;
</span><span class='line'>Query OK, 0 rows affected <span class="o">(</span>0.00 sec<span class="o">)</span>
</span><span class='line'>
</span><span class='line'>mysql&gt; <span class="nb">exit</span>
</span><span class='line'>Bye
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>mysql -u uwapc -p
</span></code></pre></td></tr></table></div></figure>


<p>4) Become &lsquo;uwapc&rsquo; and setup WordPress</p>

<figure class='code'><figcaption><span>&#8216;Download WordPress&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>su uwapc
</span><span class='line'>Password:
</span><span class='line'>uwapc@uwlab:/var/www/bin<span class="nv">$ </span><span class="nb">cd</span>
</span><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>wget http://wordpress.org/latest.tar.gz
</span><span class='line'>--2013-07-08 15:28:15--  http://wordpress.org/latest.tar.gz
</span><span class='line'>Resolving wordpress.org <span class="o">(</span>wordpress.org<span class="o">)</span>... 66.155.40.250, 66.155.40.249
</span><span class='line'>Connecting to wordpress.org <span class="o">(</span>wordpress.org<span class="o">)</span>|66.155.40.250|:80... connected.
</span><span class='line'>HTTP request sent, awaiting response... 200 OK
</span><span class='line'>Length: 4988077 <span class="o">(</span>4.8M<span class="o">)</span> <span class="o">[</span>application/x-gzip<span class="o">]</span>
</span><span class='line'>Saving to: <span class="sb">`</span>latest.tar.gz<span class="s1">&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="s1">100%[======================================&gt;] 4,988,077   25.9K/s   in 3m 22s</span>
</span><span class='line'>
</span><span class='line'><span class="s1">2013-07-08 15:31:40 (24.1 KB/s) - `latest.tar.gz&#39;</span> saved <span class="o">[</span>4988077/4988077<span class="o">]</span>
</span><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>tar -xzvf latest.tar.gz
</span><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>mv wordpress public_html
</span><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>ls
</span><span class='line'>latest.tar.gz  public_html
</span></code></pre></td></tr></table></div></figure>


<p>5) Install WordPress via web interface.</p>

<p>Enable the new site and restart.</p>

<figure class='code'><figcaption><span>&#8216;Enable new site&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>sudo a2ensite uwapc.dev
</span><span class='line'><span class="o">[</span>sudo<span class="o">]</span> password <span class="k">for </span>upeksha:
</span><span class='line'>Enabling site uwapc.dev.
</span><span class='line'>To activate the new configuration, you need to run:
</span><span class='line'>  service apache2 reload
</span><span class='line'>upeksha@uwlab:/var/www/bin<span class="nv">$ </span>sudo service apache2 restart
</span><span class='line'> * Restarting web server apache2                                                 ... waiting
</span></code></pre></td></tr></table></div></figure>


<p>We are not running a DNS server. Map the new site address to the host ip via <code>/etc/hosts</code> file.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/apc-benchmarking-server-wordpress.png" title="WordPress APC Benchmarking Server" alt="WordPress APC Benchmarking Server" /></p>

<h2>Install APC Info Interface</h2>




<figure class='code'><figcaption><span>&#8216;APC Info Interface Installation&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>wget http://pecl.php.net/get/APC
</span><span class='line'>--2013-07-08 16:12:48--  http://pecl.php.net/get/APC
</span><span class='line'>Resolving pecl.php.net <span class="o">(</span>pecl.php.net<span class="o">)</span>... 76.75.200.106
</span><span class='line'>Connecting to pecl.php.net <span class="o">(</span>pecl.php.net<span class="o">)</span>|76.75.200.106|:80... connected.
</span><span class='line'>HTTP request sent, awaiting response... 200 OK
</span><span class='line'>Length: 171591 <span class="o">(</span>168K<span class="o">)</span> <span class="o">[</span>application/octet-stream<span class="o">]</span>
</span><span class='line'>Saving to: <span class="sb">`</span>APC<span class="s1">&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="s1">100%[======================================&gt;] 171,591      121K/s   in 1.4s</span>
</span><span class='line'>
</span><span class='line'><span class="s1">2013-07-08 16:12:55 (121 KB/s) - `APC&#39;</span> saved <span class="o">[</span>171591/171591<span class="o">]</span>
</span><span class='line'>
</span><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>tar -zxf APC
</span><span class='line'>uwapc@uwlab:~<span class="nv">$ </span>mv APC-3.1.13 public_html/apc
</span></code></pre></td></tr></table></div></figure>


<p>Visit APC Info Interface to see the APC status.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/wordpress-apc-info-interface.png" title="WordPress APC Information" alt="WordPress APC Information" /></p>

<h2>Benchmarking WordPress Response Time with APC</h2>


<p>Disable APC.
Set <code>apc.enabled=0</code> in &lsquo;/etc/php5/cgi/conf.d/apc.ini&rsquo;.</p>

<p>Restart the server.
<code>sudo service apache2 restart</code>.</p>

<p>Run Apache Benchmarking tool to collect performance data.</p>

<p><code>ab -n 1000 -c 30 -g without-apc.dat http://www.uwapc.dev/</code></p>

<p>Enable APC. Restart the server. Again, run ab tool.</p>

<p><code>ab -n 1000 -c 30 -g with-apc.dat http://www.uwapc.dev/</code></p>

<p>Plot data using Gnuplot. ( Details on plotting can also be found here: <a href="http://uw-freelancer.github.io/blog/fastcgi-suexec-apc-per-user/" >Apache2 FastCGI and suEXEC Implementing APC Per User With PHP5-CGI</a> )</p>

<p>Gnuplot config file</p>

<figure class='code'><figcaption><span>&#8216;APC Info Interface Installation (APC-benchmarking.p)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># output as png image</span>
</span><span class='line'><span class="nb">set </span>terminal png
</span><span class='line'>
</span><span class='line'><span class="c"># save file to &quot;apc-benchmarking.png&quot;</span>
</span><span class='line'><span class="nb">set </span>output <span class="s2">&quot;apc-benchmarking.png&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># graph title</span>
</span><span class='line'><span class="nb">set </span>title <span class="s2">&quot;WordPress Benchmarking with APC&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># nicer aspect ratio for image size</span>
</span><span class='line'><span class="nb">set </span>size 1,0.7
</span><span class='line'>
</span><span class='line'><span class="c"># y-axis grid</span>
</span><span class='line'><span class="nb">set </span>grid y
</span><span class='line'>
</span><span class='line'><span class="c"># x-axis label</span>
</span><span class='line'><span class="nb">set </span>xlabel <span class="s2">&quot;request&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c"># y-axis label</span>
</span><span class='line'><span class="nb">set </span>ylabel <span class="s2">&quot;response time (ms)&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="c">#plot data from data files</span>
</span><span class='line'>plot <span class="s2">&quot;without-apc.dat&quot;</span> using 9 smooth sbezier with lines title <span class="s2">&quot;Without APC&quot;</span>, <span class="se">\</span>
</span><span class='line'><span class="s2">&quot;with-apc.dat&quot;</span> using 9 smooth sbezier with lines title <span class="s2">&quot;With APC&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>gnuplot APC-benchmarking.p</code></p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/wordpress-performance-gain-with-apc.png" title="WordPress Performance Gain with APC" alt="WordPress Performance Gain with APC" /></p>

<h2>WordPress Performance Gain While Many PHP5-CGI Children share the same APC under One User with High Concurrency</h2>


<p>Next, increase the PHP-CGI children from 2 to 6 (<code>PHP_FCGI_CHILDREN=6</code> in FastCGI wrapper script). Increase the concurrency to 60 <code>-c 60</code>. Benchmark again.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/wordpress-performance-gain-with-apc-with-many-children.png" title="WordPress Performance Gain with APC with many children" alt="WordPress Performance Gain with APC with many children" /></p>

<p>The above plots clearly show the Performance Gain in Response Time when using APC to cache the PHP Opcodes.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vim Vedug]]></title>
    <link href="http://uw-freelancer.github.io/blog/vim-vdebug/"/>
    <updated>2013-07-06T15:13:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/vim-vdebug</id>
    <content type="html"><![CDATA[<p>I&rsquo;ve been using various debuggers for Vim. But when tried Vdeug, I realized Vdebug has almost all the possible features for a Vim Debugger.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/vdebug-help.jpg" title="Vdebug Help" alt="Vdebug Help" /></p>

<p>Vdebug, technically, said to support languages that have a debugging engine that uses the DBGP protocol. This plugin has been designed with four languages in mind, PHP, Python, Ruby and Perl.</p>

<blockquote><p>Vdebug: A powerful, fast, multi-language debugger for Vim</p></blockquote>




<h3>Vim Vdebug Debugger Stack</h3>


<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/vdebug-debuggerstack.jpg" title="Vdebug Debugger Stack" alt="Vdebug Debugger Stack" /></p>

<h3>Vim Vdebug Debugger Watch</h3>


<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/vdebug-debuggerwatch.jpg" title="Vdebug Debugger Watch" alt="Vdebug Debugger Watch" /></p>

<h3>Vim Vdebug Debugger Status</h3>


<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/vdebug-debuggerstatus.jpg" title="Vdebug Debugger Status" alt="Vdebug Debugger Status" /></p>

<h2>Installing Vdebug Plugin</h2>


<p>Clone the Vdebug Github repository in your local bundle.</p>

<figure class='code'><figcaption><span>&#8216;Installing Vdebug&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/.vim/bundle
</span><span class='line'>git clone https://github.com/joonty/vdebug.git
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Thank You Mr. Nit3hawkz]]></title>
    <link href="http://uw-freelancer.github.io/blog/thanks-nit3hawks/"/>
    <updated>2013-07-06T05:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/thanks-nit3hawks</id>
    <content type="html"><![CDATA[<p>It&rsquo;s been a year, completing my first project on freelancer.com and receiving a 5 star feedback.</p>

<blockquote><p>In retrospect, it seems like it all happened so quickly.</p></blockquote>


<p>Remember the first feedback I received, that positive feedback had a great impact on my freelancing career.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/thanks-nit3hawkz-review.jpg" title="Mr. Nit3hawkz Review" alt="Mr. Nit3hawkz Review" /></p>

<p>After that I was able to complete a series of freelancing projects. At the same time I learned a great deal of new things about web design and development.</p>

<blockquote><p>&#8220;How far that little candle throws his beams! So shines a good deed in a weary world.&#8221; - William Shakespeare</p></blockquote>


<p><img class='center' src="http://uw-freelancer.github.io/images/blog/nit3hawkz-profile.jpg" title="Mr. Nit3hawkz Profile" alt="Mr. Nit3hawkz Profile" /></p>

<p>Thank you Mr. Nit3hawkz for helping me to start my career in freelancing. I completed three projects for Mr. Nit3hawkz in the past year.</p>

<p>First Project &ndash; <a href="http://uw-freelancer.github.io/blog/coming-soon-site/" >Exp Tennis Project</a><br />
Second Project &ndash; <a href="http://uw-freelancer.github.io/blog/facebook-app-sweepstakes/" >Facebook App Project</a><br />
Third Project &ndash; <a href="http://uw-freelancer.github.io/blog/language-parlor-project/" >Language Parlor Project</a><br /></p>

<blockquote><p>&#8220;Unselfish and noble actions are the most radiant pages in the biography of souls.&#8221; - David Thomas</p></blockquote>




<h2>Dear Other Employers,</h2>


<p>I thank all of you.</p>

<blockquote><p>I can&#8217;t win, I can&#8217;t reign<br/>I will never win this game<br/>Without you, without you<br/>I am lost, I am vain,<br/>I will never be the same<br/>Without you, without you</p></blockquote>


<p><img class='center' src="http://uw-freelancer.github.io/images/blog/thank-you.jpg" title="Thank You All" alt="Thank You All" /></p>

<blockquote><p>&#8220;I would maintain that thanks are the highest form of thought, and that gratitude is happiness doubled by wonder.&#8221; - G.K. Chesterton</p></blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Insanely Faster Buffer Switching]]></title>
    <link href="http://uw-freelancer.github.io/blog/insanely-faster-vim-buffer-switching/"/>
    <updated>2013-07-03T23:05:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/insanely-faster-vim-buffer-switching</id>
    <content type="html"><![CDATA[<p>Consider the following instance. You are debugging an app with Vim Vdebug. You have opened several other text buffers as well. Also note that we&rsquo;ve a couple of tabs as well.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/insanely-faster-buffer-switching.png" title="Insanely Faster Buffer Switching in Vim" alt="Insanely Faster Buffer Switching in Vim" /></p>

<p><a href="http://uw-freelancer.github.io/images/blog/insanely-faster-buffer-switching.png" target="blank" >Larger Preview</a></p>

<h2>{ s-h | s-j | s-k | s-l }</h2>


<p>Still using &lt;C-W> commands to switch buffers? It&rsquo;s probably time to practise a more efficient way.</p>

<blockquote><p>I&#8217;ve put some text on my .vimrc which allows me to switch buffers 537ns before I think about switching buffers.<br/>* ns = nano seconds = 1x10^(-9)s</p></blockquote>


<p>I strongly encourage you to put these in your .vimrc and experience <b>The Ultimate Speed of Buffer Switching</b>.</p>

<figure class='code'><figcaption><span>&#8216;Insanely Faster Buffer Switching - .vimrc&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nmap sh &lt;C-W&gt;h
</span><span class='line'>nmap sj &lt;C-W&gt;j
</span><span class='line'>nmap sk &lt;C-W&gt;k
</span><span class='line'>nmap sl &lt;C-W&gt;l
</span></code></pre></td></tr></table></div></figure>




<h2>Lightning Speed Tab Switching</h2>


<p>I recommend the following settings for a faster and more intuitive tab swiching experience.</p>

<figure class='code'><figcaption><span>&#8216;Lightning Fast Tab Switching - .vimrc&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>nnoremap sn :tabp&lt;cr&gt;
</span><span class='line'>nnoremap sm :tabn&lt;cr&gt;
</span></code></pre></td></tr></table></div></figure>




<h2>Exercise</h2>


<p>Don&rsquo;t look at the keyboard!
Can you find the &rsquo;s&#8217; key without looking at the keyboard?</p>

<p>Yes: Share this post.<br />
No: Like this post.<br />
I looked at the keybord: Do nothing.<br /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Building the System Software From Scratch]]></title>
    <link href="http://uw-freelancer.github.io/blog/building-the-system-software-from-scratch/"/>
    <updated>2013-07-01T17:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/building-the-system-software-from-scratch</id>
    <content type="html"><![CDATA[<p>Various file systems exported by the kernel are used to communicate to and from the kernel itself. These file systems are virtual in that no disk space is used for them. The content of the file systems resides in memory. Begin by creating directories onto which the file systems will be mounted.</p>

<figure class='code'><figcaption><span>&#8216;Virtual Kernel FileSystems&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mkdir -v <span class="nv">$LFS</span>/<span class="o">{</span>dev,proc,sys<span class="o">}</span>
</span><span class='line'>
</span><span class='line'>mount -vt devpts devpts <span class="nv">$LFS</span>/dev/pts
</span><span class='line'>mount -vt proc proc <span class="nv">$LFS</span>/proc
</span><span class='line'>mount -vt sysfs sysfs <span class="nv">$LFS</span>/sys
</span></code></pre></td></tr></table></div></figure>




<h3>Dev File System</h3>




<figure class='code'><figcaption><span>&#8216;Virtual Kernel FileSystems&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mknod -m 600 <span class="nv">$LFS</span>/dev/console c 5 1
</span><span class='line'>mknod -m 666 <span class="nv">$LFS</span>/dev/null c 1 3
</span><span class='line'>
</span><span class='line'>mount -v --bind /dev <span class="nv">$LFS</span>/dev
</span></code></pre></td></tr></table></div></figure>




<h2>Chroot into the System</h2>




<figure class='code'><figcaption><span>&#8216;Chrooting to the System&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chroot <span class="s2">&quot;$LFS&quot;</span> /tools/bin/env -i <span class="se">\</span>
</span><span class='line'>    <span class="nv">HOME</span><span class="o">=</span>/root <span class="se">\</span>
</span><span class='line'>    <span class="nv">TERM</span><span class="o">=</span><span class="s2">&quot;$TERM&quot;</span> <span class="se">\</span>
</span><span class='line'>    <span class="nv">PS1</span><span class="o">=</span><span class="s1">&#39;\u:\w\$ &#39;</span> <span class="se">\</span>
</span><span class='line'>    <span class="nv">PATH</span><span class="o">=</span>/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin <span class="se">\</span>
</span><span class='line'>    /tools/bin/bash --login +h
</span></code></pre></td></tr></table></div></figure>


<p><code>-i</code> option will clear all environment variables of the chroot environment. Then &lsquo;HOME&rsquo;, &lsquo;TERM&rsquo;, &lsquo;PS1&rsquo; and &lsquo;PATH&rsquo; variables are set again.</p>

<blockquote><p>Notice that &#8216;/tools/bin&#8217; comes last in the PATH. This means that a temporary tool will no longer be used once its final version is installed. This occurs when the shell does not “remember” the locations of executed binaries—for this reason, hashing is switched off by passing the &#8216;+h&#8217; option to bash.</p></blockquote>




<h2>Install the System Software from Source</h2>


<p>The following list of programs needs to be installed.</p>

<figure class='code'><figcaption><span>&#8216;System Software List&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Linux-3.8.1 API Headers
</span><span class='line'>Man-pages-3.47
</span><span class='line'>Glibc-2.17
</span><span class='line'>Zlib-1.2.7
</span><span class='line'>File-5.13
</span><span class='line'>Binutils-2.23.1
</span><span class='line'>GMP-5.1.1
</span><span class='line'>MPFR-3.1.1
</span><span class='line'>MPC-1.0.1
</span><span class='line'>GCC-4.7.2
</span><span class='line'>Sed-4.2.2
</span><span class='line'>Bzip2-1.0.6
</span><span class='line'>Pkg-config-0.28
</span><span class='line'>Ncurses-5.9
</span><span class='line'>Util-linux-2.22.2
</span><span class='line'>Psmisc-22.20
</span><span class='line'>Procps-ng-3.3.6
</span><span class='line'>E2fsprogs-1.42.7
</span><span class='line'>Shadow-4.1.5.1
</span><span class='line'>Coreutils-8.21
</span><span class='line'>Iana-Etc-2.30
</span><span class='line'>M4-1.4.16
</span><span class='line'>Bison-2.7
</span><span class='line'>Grep-2.14
</span><span class='line'>Readline-6.2
</span><span class='line'>Bash-4.2
</span><span class='line'>Libtool-2.4.2
</span><span class='line'>GDBM-1.10
</span><span class='line'>Inetutils-1.9.1
</span><span class='line'>Perl-5.16.2
</span><span class='line'>Autoconf-2.69
</span><span class='line'>Automake-1.13.1
</span><span class='line'>Diffutils-3.2
</span><span class='line'>Gawk-4.0.2
</span><span class='line'>Findutils-4.4.2
</span><span class='line'>Flex-2.5.37
</span><span class='line'>Gettext-0.18.2
</span><span class='line'>Groff-1.22.2
</span><span class='line'>Xz-5.0.4
</span><span class='line'>GRUB-2.00
</span><span class='line'>Less-451
</span><span class='line'>Gzip-1.5
</span><span class='line'>IPRoute2-3.8.0
</span><span class='line'>Kbd-1.15.5
</span><span class='line'>Kmod-12
</span><span class='line'>Libpipeline-1.2.2
</span><span class='line'>Make-3.82
</span><span class='line'>Man-DB-2.6.3
</span><span class='line'>Patch-2.7.1
</span><span class='line'>Sysklogd-1.5
</span><span class='line'>Sysvinit-2.88dsf
</span><span class='line'>Tar-1.26
</span><span class='line'>Texinfo-5.0
</span><span class='line'>Udev-197
</span><span class='line'>Vim-7.3
</span></code></pre></td></tr></table></div></figure>


<p>Now we have all System Software installed. Next we should compile the kernel. See <a href="http://uw-freelancer.github.io/blog/compiling-the-linux-kernel-from-source/" >Compiling a Linux Kernel From Source</a> post.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vim PowerLine]]></title>
    <link href="http://uw-freelancer.github.io/blog/vim-powerline/"/>
    <updated>2013-07-01T15:05:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/vim-powerline</id>
    <content type="html"><![CDATA[<p>Vim is the editor I use for my day to day text editing tasks.</p>

<h2>Powerline Mode Indicator</h2>


<p>Vim Powerline plugin can show the &lsquo;mode information&rsquo; on the powerline.</p>

<p>Normal Mode</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/powerline-normal.png" title="Vim Powerline Normal" alt="Vim Powerline Normal" /></p>

<p>Insert Mode</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/powerline-insert.png" title="Vim Powerline Insert" alt="Vim Powerline Insert" /></p>

<p>Visual Line Mode</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/powerline-vline.png" title="Vim Powerline Visual Line" alt="Vim Powerline Visual Line" /></p>

<p>Visual Block Mode</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/powerline-vbox.png" title="Vim Powerline Visual Block" alt="Vim Powerline Visual Block" /></p>

<h2>Powerline Git Branch Indicator</h2>


<p>The above screens show we are working on the &lsquo;Master&rsquo; branch. Let&rsquo;s create and new branch called &lsquo;Upeksha&rsquo; and checkout it.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/powerline-git-branch.png" title="Powerline Create Branch" alt="Powerline Create Branch" /></p>

<p>Now the Git Branch Indicator shows the &lsquo;Upeksha&rsquo; branch.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/vim/powerline-upeksha-branch.png" title="Powerline Upeksha Branch" alt="Powerline Upeksha Branch" /></p>

<h2>How to install Powerline</h2>


<p>1 &ndash; First, Install the Powerline plugin.</p>

<figure class='code'><figcaption><span>&#8216;Installing Powerline Plugin&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">cd</span> ~/.vim/bundle
</span><span class='line'>git clone https://github.com/Lokaltog/vim-powerline.git
</span></code></pre></td></tr></table></div></figure>


<p>2 &ndash; Next, install the Powerline fonts.</p>

<figure class='code'><figcaption><span>&#8216;Installing Powerline Fonts&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>mkdir ~/.fonts
</span><span class='line'><span class="nb">cd</span> ~/.fonts/
</span><span class='line'>git clone https://github.com/scotu/ubuntu-mono-powerline.git
</span></code></pre></td></tr></table></div></figure>


<p>3 &ndash; Finally, configure your Vim instance.</p>

<figure class='code'><figcaption><span>&#8216;Powerline Vim Configuration - .vimrc&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="s2">&quot; Vim Powerline</span>
</span><span class='line'><span class="s2">let g:Powerline_symbols = &#39;fancy&#39;</span>
</span><span class='line'>
</span><span class='line'><span class="s2">&quot;</span> Automatically delete buffers when browsing git <span class="nb">history</span>/objects.
</span><span class='line'>au BufReadPost fugitive://* <span class="nb">set </span><span class="nv">bufhidden</span><span class="o">=</span>delete
</span><span class='line'>
</span><span class='line'><span class="err">&quot;</span> Optional Setting
</span><span class='line'><span class="nb">set </span><span class="nv">t_Co</span><span class="o">=</span>256
</span></code></pre></td></tr></table></div></figure>



]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[How I earned A Dollar]]></title>
    <link href="http://uw-freelancer.github.io/blog/how-i-earned-one-usd/"/>
    <updated>2013-07-01T11:05:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/how-i-earned-one-usd</id>
    <content type="html"><![CDATA[<p>I only needed one dollar. If you&rsquo;ve missed that post, <a href="http://uw-freelancer.github.io/blog/i-only-need-one-dollar/" >read it here</a>.</p>

<p>However, I was fortunate enough to receive a dollar. In fact, I received 10 USD. Mr. Cstoudt released 10 previously milestoned dollars.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/how-i-earned-one-dollar.jpg" title="How I earned one dollar" alt="How I earned one dollar" /></p>

<h2>An Unreleased Milestone</h2>


<p>Do you remember once I completed a project for Mr. Cstoudt? (See: <a href="http://uw-freelancer.github.io/blog/wordpress-toolbar-customization/" >WordPress Toolbar Customization</a>) Eventhough I completed that project successfully, there remained an unreleased and fogotten milestone. While I was thinking how to find the missing dollar yesterday, while I was browsing through my freelancer.com financial dashboard, I noticed this milestone. I contacted Mr. Cstoudt and asked him to release the milestone.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/requesting-to-release-the-milestone.jpg" title="Requesting to release the milestone" alt="Requesting to release the milestone" /></p>

<p>I received this about 8:10 on 1st July, 2013. This is a new month. I was finding a dollar in the previous month. However I decided this payment should be counted as received in the previous month. I live in Sri Lanka (+5.30UTC). Client sent the payment from USA (-6.00UTC). For Mr. Cstoudt it was only 20:40 on 30th June, 2013. See the below illustration.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/sri-lanka-usa-time-relationship.jpg" title="Sri Lanka USA Time Relationship" alt="Sri Lanka USA Time Relationship" /></p>

<h2>Finally, I collected the missing dollar</h2>


<p>Just before the end of the month (somewhere +X.YYUTC), I was able to withdraw money from my freelancer.com account. Thanks Mr. Cstout (10 USD) and Mr. Brant (30 USD).</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/32-usd-to-sri-lanka.jpg" title="32 USD to Sri Lanka" alt="32 USD to Sri Lanka" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[I only need One Dollar]]></title>
    <link href="http://uw-freelancer.github.io/blog/i-only-need-one-dollar/"/>
    <updated>2013-06-30T09:13:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/i-only-need-one-dollar</id>
    <content type="html"><![CDATA[<p>Today is the last day of this month (June, 2013). My account balance is &lsquo;29.19&rsquo;.</p>

<p>In order to withdraw money from freelancer.com, My account balance should be at least 30 USD.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/i-only-need-one-dollar.jpg" title="I only need one dollar" alt="I only need one dollar" /></p>

<p>I recently completed a project for Mr. Brant (Two WordPress Customizations). I agreed with him to be paid 30 USD for the completion of this project. But freelancer.com charged me a fee of 5 USD. ( Freelancer.com service fee is fair compared to other service providers. But at this time the total went below 30 USD ).</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/wordpress-freelancer-cost.jpg" title="WordPress Freelancer Cost" alt="WordPress Freelancer Cost" /></p>

<p>So I started bidding on projects, planing to earn the missing 1 USD. Today is the final day of the month. Still, I haven&rsquo;t had a chance to win a project. I started to lower my bids. Then people started to ask me why my bid is so low (they can&rsquo;t trust that the work could be that cheap). See the below conversation with one of my potential clients (Alias: MasterCook).</p>

<blockquote><p>MasterCook: ok so 1. why you bid so low and how do i know your not wasting my time</p><p>Upeksha: I have been bidding for a couple of days without any work. I have $29 in my account and I need at least another $1 to withdraw money from freelancer.com.</p><p>Upeksha: I have done various WordPress related projects. I am confident I can do the customizations you need.</p><p>MasterCook: you price is good but I am worried about cheap labour</p></blockquote>


<p>Usually, freelancer.com charges 10% of the total project price (for a 30USD project that should be 3USD). At this time they charged 5 USD. The reason is the lowest project commission is 5 USD. However now I can&rsquo;t withdraw funds to Skrill account without another dollar. I only need One Dollar.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/cannot-withdraw-less-than-30-usd.jpg" title="Cannot withdraw less than 30 USD" alt="Cannot withdraw less than 30 USD" /></p>

<h2>Update 2013-07-01</h2>


<p>I was able to receive the missing dollar. Read <a href="http://uw-freelancer.github.io/blog/how-i-earned-one-usd/" >how I found a dollar</a>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Two Website Customizations]]></title>
    <link href="http://uw-freelancer.github.io/blog/two-website-customizations/"/>
    <updated>2013-06-29T21:05:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/two-website-customizations</id>
    <content type="html"><![CDATA[<p>Two websites had to be customized when I was contacted for this project. I was contacted by Mr. Brant about this improvement. A freelancer.com project was created to make payments and exchange feedback.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/website-customization-project-specification.jpg" title="Website Customization Project Description" alt="Website Customization Project Description" /></p>

<p>First one of two projects was described on oDesk. A child theme (called &lsquo;Curb Appeal&rsquo;) based on popular Genesis Framework needed to be customized.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/genesis-framework-customization.jpg" title="Genesis Framework Customization" alt="Genesis Framework Customization" /></p>

<p>In &lsquo;Curb Appeal&rsquo; theme there was only one section in home top area.</p>

<figure class='code'><figcaption><span>&#8216;Initial Code - functions.php&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nx">genesis_register_sidebar</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>    <span class="s1">&#39;id&#39;</span>          <span class="o">=&gt;</span> <span class="s1">&#39;home-top&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;name&#39;</span>            <span class="o">=&gt;</span> <span class="s1">&#39;Home Top&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;This is the Home Top section&#39;</span>
</span><span class='line'><span class="p">)</span> <span class="p">);</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>I replaced it with two sidebars as follows.</p>

<figure class='code'><figcaption><span>&#8216;Code After Modification - functions.php&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="cp">&lt;?php</span>
</span><span class='line'><span class="nx">genesis_register_sidebar</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>    <span class="s1">&#39;id&#39;</span>          <span class="o">=&gt;</span> <span class="s1">&#39;home-top-left&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;name&#39;</span>            <span class="o">=&gt;</span> <span class="s1">&#39;Home Top Left&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;This is the Home Top Left section&#39;</span>
</span><span class='line'><span class="p">)</span> <span class="p">);</span>
</span><span class='line'><span class="nx">genesis_register_sidebar</span><span class="p">(</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>    <span class="s1">&#39;id&#39;</span>          <span class="o">=&gt;</span> <span class="s1">&#39;home-top-right&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;name&#39;</span>            <span class="o">=&gt;</span> <span class="s1">&#39;Home Top Right&#39;</span><span class="p">,</span>
</span><span class='line'>    <span class="s1">&#39;description&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;This is the Home Top Right section&#39;</span>
</span><span class='line'><span class="p">)</span> <span class="p">);</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<p>Next project was about adding a &lsquo;Banner&rsquo; for category archive pages. The following is the category banner uploader I developed.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/wordpress-category-banner.jpg" title="Category Banner Uploader" alt="Category Banner Uploader" /></p>

<p>I was able to successfully complete the project and earned $25USD (freelancer.com charges only 10% of the total amount. But the lowest possible is $5USD).</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/website-customization-feedback.jpg" title="Website Customization Feedback" alt="Website Customization Feedback" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Building the Host Independant Toolchain]]></title>
    <link href="http://uw-freelancer.github.io/blog/building-the-host-independant-toolchain/"/>
    <updated>2013-06-14T12:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/building-the-host-independant-toolchain</id>
    <content type="html"><![CDATA[<p>We are going to build a Linux Kernel based System with GNU Components by configuring, compiling and installing source tarballs. Mount a new ext3 disk on <code>/mnt/lfs</code> without partitioning. Create <code>sources</code> directory.</p>

<p>Most of these steps are described in &lsquo;Linux From Scratch 7.3&rsquo; book. But I will describe you how I build this system on an Ubuntu host with further explanations where applicable.</p>

<h2>Finding the New Disk, Formatting and Mouting</h2>


<p>Run <code>sudo lshw</code>. Find your disk logical name. e.g. I found my disk at &lsquo;core&rsquo; > &lsquo;pci&rsquo; > &lsquo;storage&rsquo; > &lsquo;disk2&rsquo;.
<code>logical name: /dev/sdc</code></p>

<figure class='code'><figcaption><span>&#8216;Static IP Assignment for eth1 (/etc/network/interfaces)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>sudo su
</span><span class='line'>mke2fs -jv /dev/sdc
</span><span class='line'>mount -v -t ext3 /dev/sdc /mnt/lfs
</span></code></pre></td></tr></table></div></figure>


<p><img class='center' src="http://uw-freelancer.github.io/images/kernel/mounting-the-new-disk.png" title="Mounting the New Disk" alt="Mounting the New Disk" /></p>

<h2>GNU BinUtils 2.23.1 Installation</h2>


<p>The GNU Binutils are a collection of binary tools. The main ones are:</p>

<p>ld &ndash; the GNU linker.<br /><br />
as &ndash; the GNU assembler.</p>

<p><a href="http://www.gnu.org/software/binutils/">http://www.gnu.org/software/binutils/</a></p>

<p>Download the &lsquo;GNU BinUtils&rsquo; (21.5MB) using <code>wget</code> into <code>/mnt/lfs/sources</code>.
Untar using <code>tar -jxvf binutils-2.23.1.tar.bz2</code>. j option is for bzip2 archives. (154MB)</p>

<p>run the <code>configure</code> command with the relevant arguments. Now <code>make</code>.</p>

<p>The time to compile BinUtils is called 1SBU. For me 1SBU ~ 2.5min.</p>

<p>&lsquo;binutils-build&rsquo; ~ 85MB.</p>

<p>Time to install. <code>make install</code>. This will install the BinUtils in &lsquo;tools&rsquo; directory.</p>

<h2>GNU Compiler Collection 4.7.2 Installation</h2>


<p>The GNU Compiler Collection includes front ends for C, C++, Objective-C, Fortran, Java, Ada, and Go, as well as libraries for these languages (libstdc++, libgcj,&hellip;). GCC was originally written as the compiler for the GNU operating system.</p>

<p><a href="http://gcc.gnu.org/">http://gcc.gnu.org/</a></p>

<h3>The GNU Multi Precision Library (MPC) 5.1.1</h3>


<p><a href="http://gmplib.org/">http://gmplib.org/</a></p>

<p>Arithmetic without limitations &ndash; The GNU Multiple Precision Arithmetic Library</p>

<p>GMP is a free library for arbitrary precision arithmetic, operating on signed integers, rational numbers, and floating point numbers. There is no practical limit to the precision except the ones implied by the available memory in the machine GMP runs on. GMP has a rich set of functions, and the functions have a regular interface.</p>

<p><a href="ftp://ftp.gmplib.org/pub/gmp-5.1.1/gmp-5.1.1.tar.xz">ftp://ftp.gmplib.org/pub/gmp-5.1.1/gmp-5.1.1.tar.xz</a></p>

<h3>The GNU MPFR Library 3.1.1</h3>


<p><a href="http://www.mpfr.org/">http://www.mpfr.org/</a></p>

<p>MPFR is based on the GMP multiple-precision library (MPC).</p>

<p>The MPFR library is a C library for multiple-precision floating-point computations with correct rounding. The main goal of MPFR is to provide a library for multiple-precision floating-point computation which is both efficient and has a well-defined semantics. It copies the good ideas from the ANSI/IEEE-754 standard for double-precision floating-point arithmetic (53-bit significand).</p>

<p><a href="http://www.mpfr.org/mpfr-3.1.1/mpfr-3.1.1.tar.xz">http://www.mpfr.org/mpfr-3.1.1/mpfr-3.1.1.tar.xz</a></p>

<h3>GNU MPC 1.0.1</h3>


<p><a href="http://www.multiprecision.org/">http://www.multiprecision.org/</a></p>

<p>Gnu Mpc is a C library for the arithmetic of complex numbers with arbitrarily high precision and correct rounding of the result. It extends the principles of the IEEE-754 standard for fixed precision real floating point numbers to complex numbers, providing well-defined semantics for every operation. At the same time, speed of operation at high precision is a major design goal.</p>

<p><a href="http://www.multiprecision.org/mpc/download/mpc-1.0.1.tar.gz">http://www.multiprecision.org/mpc/download/mpc-1.0.1.tar.gz</a></p>

<h3>IEEE 754</h3>


<p>IEEE Standard for Floating-Point Arithmetic (IEEE 754).</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/kernel/ieee-logo.png" title="IEEE 754" alt="IEEE 754" /></p>

<p>The IEEE Standard for Floating-Point Arithmetic (IEEE 754) is a technical standard for floating-point computation established in 1985 by the Institute of Electrical and Electronics Engineers (IEEE). Many hardware floating point units use the IEEE 754 standard. The current version, IEEE 754-2008 published in August 2008, includes nearly all of the original IEEE 754-1985 standard and the IEEE Standard for Radix-Independent Floating-Point Arithmetic (IEEE 854-1987). The international standard ISO/IEC/IEEE 60559:2011 (with identical content to IEEE 754) has been approved for adoption through JTC1/SC 25 under the ISO/IEEE PSDO Agreement and published.</p>

<p>GNU MPC and GNU MPFR are base on IEEE 754 Standard.</p>

<p><a href="https://en.wikipedia.org/wiki/IEEE_floating_point">https://en.wikipedia.org/wiki/IEEE_floating_point</a></p>

<h3>Linux Kernel 3.8.1</h3>


<p><a href="https://www.kernel.org/">https://www.kernel.org/</a></p>

<p>The Linux API Headers expose the kernel&rsquo;s API for use by Glibc.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/kernel/linux-logo.png" title="Linux Kernel" alt="Linux Kernel" /></p>

<p>The Linux kernel needs to expose an Application Programming Interface (API) for the system&rsquo;s C library (Glibc in LFS) to use. This is done by way of sanitizing various C header files that are shipped in the Linux kernel source tarball.</p>

<p><a href="http://www.kernel.org/pub/linux/kernel/v3.x/linux-3.8.1.tar.xz">http://www.kernel.org/pub/linux/kernel/v3.x/linux-3.8.1.tar.xz</a></p>

<h3>The GNU C Library 2.17</h3>


<p><a href="http://www.gnu.org/software/libc/">http://www.gnu.org/software/libc/</a></p>

<p>Any Unix-like operating system needs a C library: the library which defines the &ldquo;system calls&rdquo; and other basic facilities such as open, malloc, printf, exit&hellip;</p>

<p>The GNU C Library is used as the C library in the GNU systems and most systems with the Linux kernel.</p>

<p>The GNU C Library is primarily designed to be a portable and high performance C library. It follows all relevant standards including ISO C11 and POSIX.1-2008. It is also internationalized and has one of the most complete internationalization interfaces known.</p>

<p><a href="http://ftp.gnu.org/gnu/glibc/glibc-2.17.tar.xz">http://ftp.gnu.org/gnu/glibc/glibc-2.17.tar.xz</a></p>

<h3>Second Pass - BinUtils and GCC</h3>


<p>After installing above programs, BinUtils and GCC needs another pass. Recompile and Reinstall both.</p>

<h3>Toolchain Remaining Tools</h3>


<p>Install the rest of the tools required to actually build the System From Source Tarballs.</p>

<p>Tcl 8.6.0<br />
Expect 5.45<br />
DejaGNU 1.5<br />
Check 0.9.9<br />
Ncurses 5.9<br />
Bash 4.2<br />
Bzip2 1.0.6<br />
Coreutils 8.21<br />
Diffutils 3.2<br />
File 5.13<br />
Findutils 4.4.2<br />
Gawk 4.0.2<br />
Gettext 0.18.2<br />
Grep 2.14<br />
Gzip 1.5<br />
M4 1.4.16<br />
Make 3.82<br />
Patch 2.7.1<br />
Perl 5.16.2<br />
Sed 4.2.2<br />
Tar 1.26<br />
Texinfo 5.0<br />
Xz 5.0.4<br /><br /></p>

<p>Next Read the post about <a href="http://uw-freelancer.github.io/blog/building-the-system-software-from-scratch/" >Building the System Software From Scratch</a>.<br /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Apache2 FastCGI and suEXEC implementing APC per user with PHP5-CGI]]></title>
    <link href="http://uw-freelancer.github.io/blog/fastcgi-suexec-apc-per-user/"/>
    <updated>2013-06-13T22:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/fastcgi-suexec-apc-per-user</id>
    <content type="html"><![CDATA[<p>Each user can be given their own Alternative PHP Cache (APC) with PHP running as a seperate process. First we need to disable Apache2 PHP module which is enabled by default. After doing this you no longer can set PHP settings in .htaccess files. Apache2 will have no knowledge about PHP, it only passes the execution to a seperate PHP process via FastCGI module.</p>

<p><a href="http://uw-freelancer.github.io/blog/setup-local-ubuntu-server/" >Setting up a local Ubuntu Server</a> is recommended to read before this post to learn how to setup a local Ubuntu Server.</p>

<h2>Disable Apache2 PHP5 Module and Install PHP CGIs</h2>


<p>Note the highlighted Resident and Shared memory consumption by Apache2 parent process and its children.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/apache2-prefork-with-mod_php5.png" title="Apache2 Prefork with Mod_PHP" alt="Apache2 Prefork with Mod_PHP" /></p>

<p>Disable <code>mod_php</code> with <code>sudo a2dismod php5</code>. Restart web server with <code>sudo service apache2 restart</code>. Now, if you check your &lsquo;/etc/apache2/mods-enabled&rsquo; directory, you will notice that <code>php.conf</code> and <code>php5.load</code> files have been deleted.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/apache2-prefork-without-mod_php5.png" title="Apache2 Prefork without Mod_PHP" alt="Apache2 Prefork without Mod_PHP" /></p>

<p>Again, note the reduction of the memory consumption by Apache.</p>

<p>Next, you need to install <code>php5-cgi</code>. Run <code>sudo apt-get install php5-cgi</code>. After installation you will have two new executables (<code>php-cgi</code> and <code>php5-cgi</code>) in <code>/usr/bin/</code> directory.</p>

<h2>Install and Enable Apache2 FastCGI Module</h2>


<p>Run <code>sudo apt-cache search apache2 cgi</code> and find the relevant module. Install using <code>sudo apt-get install libapache2-mod-fastcgi</code>. Restart the server once again. If you check <code>/etc/apache2/mods-enabled</code> directory, you will see FastCGI is enabled automatically after installation.</p>

<p>Add the FastCGI configuration to the <code>apache2.conf</code> file in <code>/etc/apache2</code> directory.</p>

<figure class='code'><figcaption><span>&#8216;FastCGI Configuration (/etc/apache2/apache2.conf)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c"># FastCGI</span>
</span><span class='line'>&lt;IfModule mod_fastcgi.c&gt;
</span><span class='line'>
</span><span class='line'>FastCgiConfig -idle-timeout 20 -maxClassProcesses 1
</span><span class='line'>FastCgiWrapper on
</span><span class='line'>
</span><span class='line'>AddHandler php5-fcgi .php
</span><span class='line'>Action php5-fcgi /cgi-bin/php-fastcgi
</span><span class='line'>
</span><span class='line'>&lt;Location <span class="s2">&quot;/cgi-bin/php-fastcgi&quot;</span>&gt;
</span><span class='line'>  Order Deny,Allow
</span><span class='line'>  Deny from All
</span><span class='line'>  Allow from <span class="nv">env</span><span class="o">=</span>REDIRECT_STATUS
</span><span class='line'>  Options ExecCGI
</span><span class='line'>  SetHandler fastcgi-script
</span><span class='line'>&lt;/Location&gt;
</span><span class='line'>&lt;/IfModule&gt;
</span></code></pre></td></tr></table></div></figure>


<p>You might need to enable Action command via <code>sudo a2enmod actions</code> to parse the above configuration.</p>

<h2>Install and Enable Apache2 suEXEC</h2>


<p><code>sudo apt-get install apache2-suexec</code></p>

<p>Enable &lsquo;suEXEC&rsquo; with <code>sudo a2enmod suexec</code>.</p>

<p>Create PHP FastCGI wrapper scripts in <code>/var/www/bin/</code> directory. Create a new directory for &lsquo;wisidagama&rsquo;. Create the &lsquo;php-fastcgi&rsquo; wrapper script.</p>

<figure class='code'><figcaption><span>&#8216;Fast CGI PHP Wrapper (/var/www/bin/wisidagama/php-fastcgi)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="c">#!/bin/sh</span>
</span><span class='line'>
</span><span class='line'><span class="nv">PHP_FCGI_CHILDREN</span><span class="o">=</span>2
</span><span class='line'><span class="nb">export </span>PHP_FCGI_CHILDREN
</span><span class='line'><span class="nv">PHP_FCGI_MAX_REQUESTS</span><span class="o">=</span>500
</span><span class='line'><span class="nb">export </span>PHP_FCGI_MAX_REQUESTS
</span><span class='line'>
</span><span class='line'><span class="nb">umask </span>0022
</span><span class='line'><span class="nb">exec</span> /usr/bin/php5-cgi -d apc.shm_size<span class="o">=</span>50M
</span></code></pre></td></tr></table></div></figure>


<p>Be sure to read and understand the <a href="http://httpd.apache.org/docs/2.2/suexec.html#model" >suEXEC Security Model</a> too.</p>

<h2>Install and Enable PHP APC</h2>


<p><code>sudo apt-get install php-apc</code></p>

<p>You should get an <code>apc.ini</code> file in <code>/etc/php5/cgi/conf.d</code> directory. Enter <code>apc.enabled="1"</code> to enable APC for CGI PHP.</p>

<h2>Add a User and Create a simple website</h2>


<p>Add a new user called &lsquo;wisidagama&rsquo;. <code>sudo useradd wisidagama</code>.</p>

<figure class='code'><figcaption><span>&#8216;Creating a New User&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:/home<span class="nv">$ </span>sudo useradd -d /home/wisidagama -m wisidagama
</span><span class='line'>upeksha@uwlab:/home<span class="nv">$ </span>sudo passwd wisidagama
</span><span class='line'>Enter new UNIX password:
</span><span class='line'>Retype new UNIX password:
</span><span class='line'>passwd: password updated successfully
</span><span class='line'>upeksha@uwlab:/home<span class="nv">$ </span>ls
</span><span class='line'>upeksha  wisidagama
</span><span class='line'>upeksha@uwlab:/home<span class="nv">$ </span>ls -al
</span><span class='line'>total 16
</span><span class='line'>drwxr-xr-x  4 root       root       4096 Jul  8 00:34 .
</span><span class='line'>drwxr-xr-x 22 root       root       4096 Jul  7 10:52 ..
</span><span class='line'>drwxr-xr-x  4 upeksha    upeksha    4096 Jul  7 23:41 upeksha
</span><span class='line'>drwxr-xr-x  2 wisidagama wisidagama 4096 Jul  8 00:34 wisidagama
</span><span class='line'>upeksha@uwlab:/home<span class="err">$</span>
</span></code></pre></td></tr></table></div></figure>


<p>Let&rsquo;s create a simple two-page website for wisidagama.</p>

<figure class='code'><figcaption><span>&#8216;Creating a Simple Site&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uw:~/test<span class="nv">$ </span>ssh wisidagama@uwlab
</span><span class='line'>wisidagama@uwlab<span class="err">&#39;</span>s password:
</span><span class='line'>Welcome to Ubuntu 12.04.2 LTS <span class="o">(</span>GNU/Linux 3.5.0-23-generic i686<span class="o">)</span>
</span><span class='line'>...
</span><span class='line'><span class="nv">$ </span>ls -al
</span><span class='line'>total 28
</span><span class='line'>drwxr-xr-x 3 wisidagama wisidagama 4096 Jul  8 00:45 .
</span><span class='line'>drwxr-xr-x 4 root       root       4096 Jul  8 00:34 ..
</span><span class='line'>-rw-r--r-- 1 wisidagama wisidagama  220 Apr  3  2012 .bash_logout
</span><span class='line'>-rw-r--r-- 1 wisidagama wisidagama 3486 Apr  3  2012 .bashrc
</span><span class='line'>drwx------ 2 wisidagama wisidagama 4096 Jul  8 00:45 .cache
</span><span class='line'>-rw-r--r-- 1 wisidagama wisidagama  675 Apr  3  2012 .profile
</span><span class='line'>-rw------- 1 wisidagama wisidagama  594 Jul  8 00:44 .viminfo
</span><span class='line'><span class="nv">$ </span>mkdir public_html
</span><span class='line'><span class="nv">$ </span><span class="nb">cd </span>public_html
</span><span class='line'><span class="nv">$ </span>vi phpinfo.php
</span><span class='line'><span class="nv">$ </span>vi index.php
</span><span class='line'><span class="nv">$ </span>ls -al
</span><span class='line'>total 16
</span><span class='line'>drwxrwxr-x 2 wisidagama wisidagama 4096 Jul  8 00:47 .
</span><span class='line'>drwxr-xr-x 4 wisidagama wisidagama 4096 Jul  8 00:47 ..
</span><span class='line'>-rw-rw-r-- 1 wisidagama wisidagama   29 Jul  8 00:47 index.php
</span><span class='line'>-rw-rw-r-- 1 wisidagama wisidagama   20 Jul  8 00:47 phpinfo.php
</span></code></pre></td></tr></table></div></figure>


<p>Next we need serve these files as www.wisidagama.dev. Setup a Virtual Host for wisidagama.dev.</p>

<p>Copy the &lsquo;default&rsquo; file to &lsquo;wisidagama.dev&rsquo; in &lsquo;/etc/apache2/sites-available&rsquo; directory. Edit the file as follows.</p>

<figure class='code'><figcaption><span>&#8216;wisidagama.dev&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>&lt;VirtualHost *:80&gt;
</span><span class='line'>  ServerName www.wisidagama.dev
</span><span class='line'>  ServerAdmin webmaster@wisidagama.dev
</span><span class='line'>
</span><span class='line'>  DocumentRoot /home/wisidagama/public_html/
</span><span class='line'>  &lt;Directory /home/wisidagama/public_html/&gt;
</span><span class='line'>      Options Indexes FollowSymLinks MultiViews
</span><span class='line'>      AllowOverride None
</span><span class='line'>      Order allow,deny
</span><span class='line'>      allow from all
</span><span class='line'>  &lt;/Directory&gt;
</span><span class='line'>
</span><span class='line'>  &lt;IfModule mod_fastcgi.c&gt;
</span><span class='line'>        SuexecUserGroup wisidagama wisidagama
</span><span class='line'>        Alias /cgi-bin/ /var/www/bin/wisidagama/
</span><span class='line'>    &lt;/IfModule&gt;
</span><span class='line'>
</span><span class='line'>  ErrorLog /home/wisidagama/error.log
</span><span class='line'>
</span><span class='line'>  <span class="c"># Possible values include: debug, info, notice, warn, error, crit,</span>
</span><span class='line'>  <span class="c"># alert, emerg.</span>
</span><span class='line'>  LogLevel warn
</span><span class='line'>
</span><span class='line'>  CustomLog /home/wisidagama/access.log combined
</span><span class='line'>&lt;/VirtualHost&gt;
</span></code></pre></td></tr></table></div></figure>


<p>Enable <code>wisidagama.dev</code> using <code>sudo a2ensite wisidagama.dev</code>.</p>

<p>From the client machine we need to tell www.wisidagama.dev to resolve to 192.168.1.8 since we don&rsquo;t have a DNS server to resolve this. Add the following line to your <code>/etc/hosts</code> file.</p>

<p><code>192.168.1.8   www.wisidagama.dev</code></p>

<h2>Disabling FastCGI or suEXEC</h2>


<p>If you disable FastCGI module using <code>sudo a2dismod fastcgi</code>, then no one will handle .php files (Remember: AddHandler php5-fcgi .php). They will be downloaded to client machines.</p>

<p>If you disable suExec module using <code>sudo a2dismod suexec</code>, Apache will fail.</p>

<figure class='code'><figcaption><span>&#8216;Apache2 Fails to Start (/var/log/apache2/error.log)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>upeksha@uwlab:~<span class="nv">$ </span>sudo service apache2 restart
</span><span class='line'>Syntax error on line 14 of /etc/apache2/sites-enabled/wisidagama.dev:
</span><span class='line'>Invalid <span class="nb">command</span> <span class="s1">&#39;SuexecUserGroup&#39;</span>, perhaps misspelled or defined by a module not included in the server configuration
</span><span class='line'>Action <span class="s1">&#39;configtest&#39;</span> failed.
</span><span class='line'>The Apache error log may have more information.
</span><span class='line'>   ...fail!
</span></code></pre></td></tr></table></div></figure>




<h2>Configuring APC size Per User</h2>


<p>You can fine tune per user APC size in &lsquo;/var/www/bin/USER/php-fastcgi scripts. Use the <code>-d apc.shm_size=100M</code> argument to adjust per user APC size. See below, <code>phpinfo()</code> output shows the custom APC size for &#8216;wisidagama&rsquo;.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/cgi-fastcgi-as-php-server-api.png" title="CGI-FastCGI as PHP Sever API" alt="CGI-FastCGI as PHP Sever API" /></p>

<p>APC configuration:</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/php-fastcgi-apc-enabled.png" title="PHP FastCGI APC Enabled" alt="PHP FastCGI APC Enabled" /></p>

<p>APC size per user:</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/php-apc-shm-size.png" title="PHP APC SHM Size" alt="PHP APC SHM Size" /></p>

<h2>Resource Consumption of PHP CGI running via FastCGI and usEXEC with per user APC</h2>


<p><img class='center' src="http://uw-freelancer.github.io/images/server/php5-cgi-process-resource-consumption.png" title="PHP CGI Process Resource Consumption" alt="PHP CGI Process Resource Consumption" /></p>

<p>Now you can fine tune the various parameters to match your server needs and wants. Note: Apache2 still uses Prefork MPM.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/server/php-as-cgi-process-with-apache-prefork-mpm.png" title="PHP as CGI process with Apache2 Prefork MPM" alt="PHP as CGI process with Apache2 Prefork MPM" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[gnuplot Basics - 2D plots]]></title>
    <link href="http://uw-freelancer.github.io/blog/gnuplot-basics-2d-plots/"/>
    <updated>2013-05-13T22:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/gnuplot-basics-2d-plots</id>
    <content type="html"><![CDATA[<p>Let&rsquo;s start with a basic two dimensional plot. Create the data file (uw.dat).</p>

<figure class='code'><figcaption><span>&#8216;Data File (uw.dat)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>1,  5
</span><span class='line'>2,  4
</span><span class='line'>3,  6
</span><span class='line'>4, 10
</span><span class='line'>5,  2
</span><span class='line'>6,  1
</span><span class='line'>7,  0
</span><span class='line'>8,  5
</span><span class='line'>9,  7
</span><span class='line'>10, 9
</span></code></pre></td></tr></table></div></figure>


<p>Create the plot configuration file (uw.config).</p>

<figure class='code'><figcaption><span>&#8216;Configuration File (uw.config)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">set </span>term png size 600, 400
</span><span class='line'><span class="nb">set </span>output <span class="s2">&quot;uw.png&quot;</span>
</span><span class='line'>plot <span class="s2">&quot;uw.dat&quot;</span> with lines
</span></code></pre></td></tr></table></div></figure>


<p>Now, plot using <code>gnuplot uw.config</code>.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/gnuplot/gnuplot-basics-2d-plot.png" title="Ubuntu Server Login" alt="Ubuntu Server Login" /></p>

<h3>Draw an Arrow</h3>


<p>To draw and arrow from (3,2) to (6,8), use <code>set arrow from 3,2 to 6,8</code>. To specify end coordinate relative to the starting use <code>rto</code> instead <code>to</code>. e.g. <code>set arrow from 3,2 rto 1,1</code>.</p>

<h2>Plotting the Exam Results of My Friends</h2>


<p>These are the marks taken by each of the friends. Format: Name, Marks.</p>

<figure class='code'><figcaption><span>&#8216;Exam Results (marks.dat)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>Alice 20
</span><span class='line'>Bob 63
</span><span class='line'>Charlie 56
</span><span class='line'>Chuck 42
</span><span class='line'>Craig 36
</span><span class='line'>Dave 86
</span><span class='line'>Erin 45
</span><span class='line'>Frank 87
</span><span class='line'>Eve 78
</span><span class='line'>Mallory 2
</span><span class='line'>Oscary 44
</span><span class='line'>Peggy 12
</span><span class='line'>Trent 56
</span><span class='line'>Walter 55
</span><span class='line'>Arthur 42
</span><span class='line'>Paul 45
</span><span class='line'>Upeksha 55
</span></code></pre></td></tr></table></div></figure>




<h3>A brief description of each of the friends</h3>


<p>Alice and Bob. Generally, Alice wants to send a message to Bob.
Carol, Carlos or Charlie, as a third participant in communications.</p>

<p>Chuck, as a third participant usually of malicious intent.</p>

<p>Craig, the password cracker (usually encountered in situations with stored hashed/salted passwords).</p>

<p>Dan or Dave, a fourth participant.
Erin, a fifth participant. (It&rsquo;s rare to see Erin; E is usually reserved for Eve.)
Frank, a sixth participant (and so on alphabetically).</p>

<p>Eve, an eavesdropper, is usually a passive attacker. While she can listen in on messages between Alice and Bob, she cannot modify them. In quantum cryptography, Eve may also represent the environment.</p>

<p>Mallet or Mallory, a malicious attacker (less commonly called Trudy, an intruder.); unlike the passive Eve, this one is the active man-in-the-middle attacker who can modify messages, substitute his/her own messages, replay old messages, and so on. The difficulty of securing a system against Mallet/Mallory is much greater than against Eve.</p>

<p>Oscar, an opponent, similar to Mallet/Mallory but not necessarily malicious. Could be white-hat but still wants to crack, modify, substitute, or replay messages.
Peggy, a prover, and Victor, a verifier, often must interact in some way to show that the intended transaction has actually taken place. They are often found in zero-knowledge proofs.
Trent, a trusted arbitrator, is some kind of neutral third party, whose exact role varies with the protocol under discussion.</p>

<p>Walter, a warden, may be needed to guard Alice and Bob in some respect, depending on the protocol being discussed.
Arthur and Merlin: In interactive proof systems, the prover has unbounded computational ability and is hence associated with Merlin, the powerful wizard. He claims the truth of a statement, and Arthur, the wise king, questions him to verify the claim.</p>

<p>Paul and Carole. The characters were introduced in the solution of the Twenty Questions problem</p>

<p>Source: This list is drawn mostly from the book Applied Cryptography by Bruce Schneier. Alice and Bob are archetypes in cryptography; Eve is also common. Names further down the alphabet are less common. <a href="http://en.wikipedia.org/wiki/Alice_and_Bob" >Read More</a></p>

<p>Now you know most of my friends, Let&rsquo;s create the plot config file.</p>

<figure class='code'><figcaption><span>&#8216;Exam Results Plot Config (marks.config)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">set </span>term png truecolor size 750, 400
</span><span class='line'><span class="nb">set </span>output <span class="s2">&quot;marks.png&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="nb">set </span>grid
</span><span class='line'><span class="nb">set </span>boxwidth 0.8 relative
</span><span class='line'><span class="nb">set </span>style fill transparent solid 0.5 noborder
</span><span class='line'><span class="nb">set </span>object 1 rectangle from screen 0,0 to screen 1,1 fillcolor rgb<span class="s2">&quot;#ccffff&quot;</span> behind
</span><span class='line'>
</span><span class='line'><span class="nb">set </span>xlabel <span class="s2">&quot;Names of Friends&quot;</span>
</span><span class='line'><span class="nb">set </span>ylabel <span class="s2">&quot;Marks&quot;</span>
</span><span class='line'><span class="nb">set </span>title <span class="s2">&quot;Marks of the Friends of Upeksha&quot;</span>
</span><span class='line'><span class="nb">set </span>yrange <span class="o">[</span>0:100<span class="o">]</span>
</span><span class='line'><span class="nb">set </span>ytics 0,10
</span><span class='line'>
</span><span class='line'><span class="nb">set </span>xtics rotate
</span><span class='line'>plot <span class="s1">&#39;marks.dat&#39;</span> using 2:xticlabels<span class="o">(</span>1<span class="o">)</span> with boxes notitle
</span></code></pre></td></tr></table></div></figure>


<p>Run <code>gnuplot marks.config</code>.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/gnuplot/marks-of-friends-of-upeksha.png" title="Marks of Friends of Upeksha" alt="Marks of Friends of Upeksha" /></p>

<blockquote><p>Despite gnuplot&#8217;s name, it is not part of or related to the GNU Project, nor does it use the GNU General Public License. You should always use simple &#8216;g&#8217;: &#8216;gnuplot&#8217;.</p></blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MySQL InnoDB Disk Space Consumption]]></title>
    <link href="http://uw-freelancer.github.io/blog/mysql-innodb-disk-space-usage/"/>
    <updated>2013-05-05T12:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/mysql-innodb-disk-space-usage</id>
    <content type="html"><![CDATA[<h2>InnoDB Folders and .frm Files</h2>


<p>MySQL stores its data dictionary information for tables in .frm files in database directories.</p>

<p>Every InnoDB table also has its own entry in the InnoDB internal data dictionary inside the tablespace. When MySQL drops a table or a database, it has to delete one or more .frm files as well as the corresponding entries inside the InnoDB data dictionary.</p>

<p><a href="http://dev.mysql.com/doc/refman/5.5/en/innodb-table-and-index.html">http://dev.mysql.com/doc/refman/5.5/en/innodb-table-and-index.html</a></p>

<h2>Employees Database Installation</h2>


<p>We need a test database for testing. I decided to use the &lsquo;employees&rsquo; database.</p>

<p><a href="http://dev.mysql.com/doc/employee/en/index.html">http://dev.mysql.com/doc/employee/en/index.html</a></p>

<blockquote><p>The database contains about 300,000 employee records with 2.8 million salary entries. The export data is 167 MB, which is not huge, but heavy enough to be non-trivial for testing.</p></blockquote>


<p>Login to remote host using <code>ssh uwlab</code>. Become root. Download the &lsquo;employees&rsquo; test database. Inspect current disk usage of MySQL.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/mysql/mysql-innodb-disk-usage.png" title="MySQL InnoDB Disk Usage" alt="MySQL InnoDB Disk Usage" /></p>

<p>Employee Database tarball is of size 26M. MySQL main tablespace is about 18M (see ibdata1 file). Extract the database from tarball with <code>tar -jxvf employees_db-full-1.0.6.tar.bz2</code>.</p>

<p>The uncompressed database size is about 161M (use <code>du -h -d 1</code>)</p>

<p>Load the database dump into MySQL using <code>mysql -u root -p -t &lt; employees.sql</code>.</p>

<p>Measue the MySQL data file size again.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/mysql/tablespace-file-size-increase.png" title="Tablespace File Size Increase" alt="Tablespace File Size Increase" /></p>

<blockquote><p>After installing &#8216;employees&#8217; test database, &#8216;ibdata1&#8217; size increased from 18M to 218M. /var/lib/mysql/employees is only 80K.</p></blockquote>




<h2>InnoDB Per-Table .ibd Files</h2>


<p>By default, all InnoDB tables and indexes are stored in the system tablespace. As an alternative, you can store each InnoDB table and its indexes in its own file.</p>

<p>First drop the &lsquo;employee&rsquo; database using <code>mysql -u root -p -e "drop database employees;"</code>. Add the following in your mysql configuration file.</p>

<figure class='code'><figcaption><span>&#8217; (/etc/mysql/my.cnf)&#8217; </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="o">[</span>mysqld<span class="o">]</span>
</span><span class='line'><span class="nv">innodb_file_per_table</span> <span class="o">=</span> 1
</span></code></pre></td></tr></table></div></figure>


<p>Restart the mysql server. You can verify the configuration using <code>mysqld --help --verbose</code>.</p>

<p>Now add the &lsquo;employees&rsquo; database again using the above instructions. Now we have an &lsquo;ibd&rsquo; file per table.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/mysql/innodb-ibd-per-table.png" title="InnoDB IBD Per Table" alt="InnoDB IBD Per Table" /></p>

<p>Be sure to do a full sql dump before experimenting with the server using, <code>mysqldump -u root -p --all-databases &gt; /home/upeksha/full-dump.sql</code>.</p>

<p>Note how the file size is changed. Now &lsquo;ibdata1&rsquo; is only 18M. But the employees directory is 232M.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/mysql/innodb-disk-space-distribution.png" title="InnoDB Disk Space Distribution" alt="InnoDB Disk Space Distribution" /></p>

<h2>MySQL Query Cache Size</h2>


<p>The amount of memory allocated for caching query results. The default value is 0, which disables the query cache. Note that query_cache_size bytes of memory are allocated even if query_cache_type is set to 0.</p>

<p><a href="http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_query_cache_size">http://dev.mysql.com/doc/refman/5.5/en/server-system-variables.html#sysvar_query_cache_size</a></p>

<p><img class='center' src="http://uw-freelancer.github.io/images/mysql/demonstrating-mysql-query-cache-effects.png" title="MySQL Query Cache Effects" alt="MySQL Query Cache Effects" /></p>

<p>Note, the first query took 939ms. But the identical subsequent queries took only 22ms and 19ms respectively.</p>

<h2>More InnoDB Optimization</h2>


<p>For tips on optimization, visit the following page,</p>

<p><a href="http://dev.mysql.com/doc/refman/5.5/en/optimizing-innodb.html">http://dev.mysql.com/doc/refman/5.5/en/optimizing-innodb.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[WordPress Toolbar Customization]]></title>
    <link href="http://uw-freelancer.github.io/blog/wordpress-toolbar-customization/"/>
    <updated>2013-04-15T20:55:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/wordpress-toolbar-customization</id>
    <content type="html"><![CDATA[<p>The project poster (Mr. Cstoudt) wanted to add custom menu to their WordPress Admin Bar.</p>

<blockquote><p>The correct term is ToolBar (not Admin Bar). The Toolbar was added in Version 3.1 as Admin Bar and in Version 3.3 it was replaced by the Toolbar.</p></blockquote>


<p>The following is an screenshot of the project description posted on freelancer.com.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/wordpress-toolbar-customization-description.jpg" title="WordPress Toolbar Customization Description" alt="WordPress Toolbar Customization Description" /></p>

<p>I decided to implement administration functions of the menu with WordPress native menu editor. E.g. One can add/edit menu items as though it is an ordinary WordPress menu. But this menu will be displayed on WordPress Toolbar.</p>

<h2>A Hidden Challenge</h2>


<p>A challenge was hidden in this project. Menu items were dependent of the membership level being visited. i.e. different menu needs to be displayed for different membership levels. Membership management was done by another plugin. I was able to successfully satisfy these requirements too.</p>

<p>I was able to hook into the proper point of WordPress execution and inject the new menu to WordPress Toolbar. I was able to complete the project successfully.</p>

<p>The following is the review by cstoudt for the correct interpretation and implementation of his needs for this project.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/wp-toolbar-customization-feedback.jpg" title="WordPress Toolbar Customization Feedback" alt="WordPress Toolbar Customization Feedback" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Language Parlor Project]]></title>
    <link href="http://uw-freelancer.github.io/blog/language-parlor-project/"/>
    <updated>2013-01-03T21:35:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/language-parlor-project</id>
    <content type="html"><![CDATA[<p>Language Parlor website allows you to learn new languages. It is designed to offer many language courses in many levels. This project is from nit3hawks.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/language-parlor-project-description.jpg" title="Language Parlor Project Description" alt="Language Parlor Project Description" /></p>

<p>Paid subscribers are allowed to watch premium learning videos. Multiple logins using the same password was prevented. This website was based on a premium theme called &lsquo;clarity&rsquo;.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/language-parlor-project-banner.png" title="Language Parlor Project Banner" alt="Language Parlor Project Banner" /></p>

<p>This website connects to PayPal to process the subscription. I used &lsquo;PayPal Framework&rsquo; plugin for this project. After successful completion I earned $330USD(including $30USD bonus).</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/language-parlor-project-feedback.jpg" title="Language Parlor Project Feedback" alt="Language Parlor Project Feedback" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Facebook App Sweepstakes]]></title>
    <link href="http://uw-freelancer.github.io/blog/facebook-app-sweepstakes/"/>
    <updated>2012-07-25T18:35:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/facebook-app-sweepstakes</id>
    <content type="html"><![CDATA[<p>A Facebook App needed to be built with a like gate. After liking the page or app fans are allowed enter their contact details via a form in the Facebook App. This qualifies those fans for a sweepstake program run by Exp Tennis Group.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/facebook-app-project-description.jpg" title="Facebook App Project Description" alt="Facebook App Project Description" /></p>

<p>The facebook app was hosted at Heroku servers. Facebook apps can be freely hosted at Heroku. App connects to MailChimp email service via their API. I also created a custom admin panel within the <a href="http://uw-freelancer.github.io/blog/coming-soon-site/" >Coming Soon Site</a> to manage the sweepstakes campaign. I was able to successfully complete the project.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/facebook-app-feedback.jpg" title="Facebook App Feedback" alt="Facebook App Feedback" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Coming Soon Site Using WordPress CMS]]></title>
    <link href="http://uw-freelancer.github.io/blog/coming-soon-site/"/>
    <updated>2012-06-06T20:00:00+05:30</updated>
    <id>http://uw-freelancer.github.io/blog/coming-soon-site</id>
    <content type="html"><![CDATA[<p>A coming soon website was built for an &lsquo;Online Tennis Ladder Site&rsquo; called EXP Tennis. This was built using popular &lsquo;WordPress Content Management System&rsquo;. I developed the WordPress Theme from the HTML template given by the client. His name on freelancer.com was &lsquo;nit3hawkz&rsquo;.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/coming-soon-site-project-description.jpg" title="Coming Soon Site Project Description" alt="Coming Soon Site Project Description" /></p>

<h2>First Project on Freelancer.com</h2>


<p>This was my first project in Freelancer.com. There were a total of 31 freelancers bidding on this project and the average bid was $408USD. I was fortunate enough to win the bid and get selected as the winning bidder for this &lsquo;Coming Soon Site&rsquo;.</p>

<p>Nit3hawkz was the project poster. He already had some other projects on freelancer.com. The main site related to this coming soon site, i.e. the actual coming soon site was already being developed, at the time I was awarded the project.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/coming-soon-site-screenshot.jpg" title="Coming Soon Site Screenshot" alt="Coming Soon Site Screenshot" /></p>

<p>The project was completed successfully and I received a 5 star rating for the project.</p>

<p><img class='center' src="http://uw-freelancer.github.io/images/blog/coming-soon-site-feedback.jpg" title="Coming Soon Site Feedback" alt="Coming Soon Site Feedback" /></p>
]]></content>
  </entry>
  
</feed>
